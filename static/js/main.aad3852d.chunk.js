(this["webpackJsonpudg-i7030"]=this["webpackJsonpudg-i7030"]||[]).push([[0],{32:function(e,t,i){},33:function(e,t,i){},35:function(e,t,i){},38:function(e,t,i){"use strict";i.r(t);var n,c,a=i(0),s=i(19),r=i.n(s),o=i(40),l=i(39),h=(i(32),i(6)),d=i(14),u=i(4),m=i(47),j=i(26),b=(i(33),i(2)),O=function(e){var t=e.children;return Object(b.jsx)("h1",{className:"title",children:t})},f=(i(35),i(44)),p=i(45),x=i(46),T=i(41),v=i(42),g=i(9),S=i(10),k=i(43),y=function(e){var t=e.children,i=e.title,n=e.icon;return Object(b.jsxs)(S.a,{boxShadow:"out",marginBottom:"10px",children:[Object(b.jsx)(k.a,{active:!0,icon:n,title:i,width:"100%",children:Object(b.jsx)(k.a.OptionsBox,{children:Object(b.jsx)(k.a.Option,{children:"X"})})}),Object(b.jsx)("div",{style:{minHeight:200,padding:10},children:t})]})},w=i(23),E=i(24),R=function(){function e(t){Object(w.a)(this,e),this.id=t,this.maxTime=Math.floor(10*Math.random())+6,this.executionTime=0,this.operator=["+","-","*","/","%","^"][Math.floor(6*Math.random())],this.firstOperand=Math.floor(100*Math.random()),this.secondOperand=Math.floor(100*Math.random())+1,this.error=!1,this.timeToUnblock=0,this.arrivalTime=-1,this.startTime=-1,this.endTime=void 0}return Object(E.a)(e,[{key:"operation",get:function(){return"".concat(this.firstOperand," ").concat(this.operator," ").concat(this.secondOperand)}},{key:"result",get:function(){return!0===this.error?"ERROR":this.evaluate()}},{key:"throwError",value:function(){this.error=!0}},{key:"block",value:function(){this.timeToUnblock=7}},{key:"update",value:function(){this.timeToUnblock>0?--this.timeToUnblock:++this.executionTime}},{key:"isTerminated",value:function(){return!0===this.error||this.maxTime===this.executionTime}},{key:"evaluate",value:function(){switch(this.operator){case"+":return this.firstOperand+this.secondOperand;case"-":return this.firstOperand-this.secondOperand;case"*":return this.firstOperand*this.secondOperand;case"/":return this.firstOperand/this.secondOperand;case"%":return this.firstOperand%this.secondOperand;case"^":return Math.pow(this.firstOperand,this.secondOperand);default:return"UNDEFINED"}}},{key:"toString",value:function(){return"Process ".concat(this.id,": ").concat(this.firstOperand," ").concat(this.operator," ").concat(this.secondOperand," = ").concat(this.result," took ").concat(this.executionTime," seconds")}},{key:"log",value:function(){return"** PID ".concat(this.id,", ").concat(this.error?"ERROR":"NORMAL"," **\n\n            Estimated Time: ").concat(this.maxTime,"\n            Arrival Time: ").concat(this.arrivalTime,"\n            End Time: ").concat(this.endTime,"\n            Standby Time: ").concat(this.endTime-this.arrivalTime-this.executionTime,"\n            Service Time: ").concat(this.executionTime,"\n            Return Time: ").concat(this.endTime-this.arrivalTime,"\n            Response Time: ").concat(this.startTime-this.arrivalTime,"\n\n************")}},{key:"partialLog",value:function(e){var t,i="** PID ".concat(this.id,", ").concat(this.error?"ERROR":"NORMAL"," **\n");return i+="\tEstimated Time: ".concat(this.maxTime,"\n"),i+="\tArrival Time: ".concat(-1!==this.arrivalTime?this.arrivalTime:"-","\n"),i+="\tEnd Time: ".concat(null!==(t=this.endTime)&&void 0!==t?t:"-","\n"),i+="\tStandby Time: ".concat(-1!==this.arrivalTime?e-this.arrivalTime-this.executionTime:"-","\n"),i+="\tService Time: ".concat(-1!==this.arrivalTime?this.executionTime:"-","\n"),i+="\tReturn Time: ".concat(this.endTime?this.endTime-this.arrivalTime:"-","\n"),i+="\tRemaining Time on CPU: ".concat(-1!==this.startTime?this.maxTime-this.executionTime:"-","\n"),i+="\tResponse Time: ".concat(-1!==this.startTime&&-1!==this.arrivalTime?this.startTime-this.arrivalTime:"-","\n"),i}}]),e}(),D={e:{description:"I/O interruption"},w:{description:"Error in process"},p:{description:"Pause"},c:{description:"Continue"},n:{description:"New process"},b:{description:"Process table"}},P=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=null!==t&&void 0!==t?t:0,n=[],c=0;c<e;++c)n.push(new R(i++));return n},I=u.e.div(n||(n=Object(d.a)(["\n  margin: auto;\n  padding: 10px;\n  display: block;\n  width: 60%;\n"]))),M=function(e){var t=e.totalProcesses,i=e.processingDone,n=Object(a.useState)(0),c=Object(h.a)(n,2),s=c[0],r=c[1],o=Object(a.useState)(""),l=Object(h.a)(o,2),d=l[0],u=l[1],m=Object(a.useState)([]),O=Object(h.a)(m,2),S=O[0],k=O[1],w=Object(a.useState)([]),E=Object(h.a)(w,2),M=E[0],A=E[1],L=Object(a.useState)(),N=Object(h.a)(L,2),C=N[0],U=N[1],_=Object(a.useState)([]),F=Object(h.a)(_,2),B=F[0],G=F[1],J=Object(a.useState)([]),q=Object(h.a)(J,2),H=q[0],X=q[1],z=Object(a.useState)(!1),K=Object(h.a)(z,2),Q=K[0],V=K[1],W=Object(a.useState)(!0),Y=Object(h.a)(W,2),Z=Y[0],$=Y[1],ee=Object(a.useState)(new Date),te=Object(h.a)(ee,2),ie=te[0],ne=te[1],ce=Object(a.useState)(!1),ae=Object(h.a)(ce,2),se=ae[0],re=ae[1],oe=Object(a.useState)(new Date),le=Object(h.a)(oe,2),he=le[0],de=le[1],ue=Object(a.useState)(null),me=Object(h.a)(ue,2),je=me[0],be=me[1],Oe=Object(a.useState)(t),fe=Object(h.a)(Oe,2),pe=fe[0],xe=fe[1];onkeydown=function(e){var t=e.key;t=t.toLowerCase();var i=!1,n=new Date;if(ne(n),n-ie<1e3)u(d+"[".concat(n.toLocaleTimeString(),", Global Time: ").concat(s," seconds] - Actions are limited to 1 per second\n"));else if(null===D||void 0===D?void 0:D[t]){switch(t){case"e":if(!1===Q&&C instanceof R){C.block(),B.push(C);var c=M.shift();c instanceof R?(-1===c.startTime&&(c.startTime=s),U(c)):U(null),i=!0}break;case"w":!1===Q&&C instanceof R&&(C.throwError(),i=!0);break;case"p":!1===Q&&(V(!0),i=!0);break;case"c":!0===Q&&(V(!1),i=!0);break;case"n":if(!1===Q){var a=C instanceof R?1:0;a+=M.length,a+=B.length;var r=P(1,pe)[0];xe(pe+1),a<4?(r.arrivalTime=s,M.push(r)):S.push(r),i=!0}break;case"b":!1===Q&&(V(!0),Te());break;default:console.log("Not implemented action triggered with ".concat(t))}!0===i&&u(d+"[".concat((new Date).toLocaleTimeString(),", Global Time: ").concat(s," seconds] - ").concat(D[t].description,"\n"))}};var Te=function(){var e=d+"[".concat((new Date).toLocaleTimeString(),", Global Time: ").concat(s," seconds] - ").concat(D.b.description,"\n");S.forEach((function(t){e+=t.partialLog(s)+"\tStatus: New\n************\n"})),M.forEach((function(t){e+=t.partialLog(s)+"\tStatus: Ready\n************\n"})),C instanceof R&&(e+=C.partialLog(s)+"\tStatus: In Execution\n************\n"),H.forEach((function(t){e+=t.partialLog(s)+"\tStatus: Terminated\n************\n"})),u(e)};Object(a.useEffect)((function(){var e=P(t),i=[],n=e.shift();n.arrivalTime=0,n.startTime=0;for(var c=Math.min(e.length,3),a=0;a<c;++a){var s=e.shift();s.arrivalTime=0,i.push(s)}k(e),A(i),U(n)}),[t]);return Object(a.useEffect)((function(){var e=setInterval((function(){Q||r((function(e){return e+1}))}),1e3);return function(){return clearInterval(e)}}),[Q]),Object(a.useEffect)((function(){var e=new Date;if(!(e-he<900)){if(de(e),0===S.length&&0===M.length&&0===B.length&&null===C)return $(!1),void(null===je&&be(s));if(!1===Z&&!1===se){var t="[".concat((new Date).toLocaleTimeString(),", Global Time: ").concat(s," seconds] - All process were terminated, generating report...\n--------------------\n");H.forEach((function(e){t+=e.log()+"\n"})),u(d+(t+="--------------------\n")),re(!0),U(null)}if(!1===Q&&!0===Z)if(function(){var e=0;B.forEach((function(t){0===t.timeToUnblock?++e:t.update()}));for(var t=0;t<e;++t)M.push(B.shift())}(),C instanceof R)if(C.isTerminated()){if(C.endTime=s-1,H.push(C),S.length>0){var i=S.shift();-1===i.arrivalTime&&(i.arrivalTime=s),M.push(i)}var n=M.shift();n instanceof R?(-1===n.startTime&&(n.startTime=s),U(n)):0===B.length?($(!1),null===je&&be(s)):U(null)}else 0===C.timeToUnblock&&C.update();else if(M.length>0){var c=M.shift();-1===c.startTime&&(c.startTime=s),U(c)}}}),[se,r,s,V,Q,Z,C,H,S,M,B,G,X]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(I,{children:[Object(b.jsxs)("div",{style:{textAlign:"center"},children:[Object(b.jsxs)("h1",{children:["New processes: ",S.length]}),Z||null===je?Object(b.jsxs)("h2",{children:["Global Time: ",s," seconds"]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("h2",{children:["Global Time: ",je," seconds"]}),Object(b.jsx)(j.a,{onClick:i,children:"Return"})]})]}),Object(b.jsx)("br",{}),Object(b.jsx)(y,{title:"ready - Process Simulation",icon:Object(b.jsx)(g.c,{variant:"32x32_4"}),children:M.map((function(e,t){return Object(b.jsx)(f.a,{legend:"PID ".concat(e.id),style:{width:"90%",textAlign:"left",marginBottom:10},children:Object(b.jsxs)("p",{children:["Estimated execution time: ",e.maxTime," seconds - Ellapsed time: ",e.executionTime," seconds"]},t+"_p")},t)}))}),Object(b.jsx)(y,{title:"execution - Process Simulation",icon:Object(b.jsx)(g.b,{variant:"32x32_4"}),children:C instanceof R?Object(b.jsxs)(f.a,{legend:"PID ".concat(C.id),className:"process-fieldset",children:[Object(b.jsxs)("p",{children:["Operation: ",C.operation]}),Object(b.jsxs)("p",{children:["Estimated execution time: ",C.maxTime," seconds"]}),Object(b.jsxs)("p",{children:["Ellapsed time: ",C.executionTime," seconds"]}),Object(b.jsxs)("p",{children:["Missing time: ",C.maxTime-C.executionTime," seconds"]}),Object(b.jsx)(p.a,{width:200,percent:Math.round(C.executionTime/C.maxTime*100)})]}):Object(b.jsx)(b.Fragment,{})}),Object(b.jsx)(y,{title:"blocked - Process Simulation",icon:Object(b.jsx)(g.h,{variant:"32x32_4"}),children:Array.isArray(B)?B.map((function(e,t){return Object(b.jsx)(f.a,{legend:"PID ".concat(e.id),style:{width:"90%",textAlign:"left",marginBottom:10},children:Object(b.jsxs)("p",{children:["Estimated execution time: ",e.maxTime," seconds - Blocked time: ",7-e.timeToUnblock," seconds"]},t+"_p")},t)})):Object(b.jsx)(b.Fragment,{})}),Object(b.jsx)(y,{title:"terminated - Process Simulation",icon:Object(b.jsx)(g.f,{variant:"32x32_4"}),children:Array.isArray(H)?H.map((function(e){return Object(b.jsx)(f.a,{legend:"PID ".concat(e.id),className:"process-fieldset",children:Object(b.jsxs)("p",{children:[e.operation," = ",e.result]},e.id+"_p")},e.id)})):Object(b.jsx)(b.Fragment,{})}),Object(b.jsxs)(y,{title:"logs.txt - Notepad",icon:Object(b.jsx)(g.e,{variant:"32x32_4"}),children:[Object(b.jsx)(x.a,{readOnly:!0,value:d,style:{width:"100%",height:200}}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)(j.a,{onClick:function(){u("")},children:"Clear logs"})]}),Object(b.jsx)("br",{})]}),Object(b.jsx)(T.a,{list:Object(b.jsx)(v.a,{children:Object(b.jsx)(v.a.Item,{icon:Object(b.jsx)(g.g,{variant:"32x32_4"}),onClick:function(){$(!1),i()},children:"Empty and Restart"},"reset")})})]})},A=u.e.form(c||(c=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n"])));var L=function(){var e=Object(a.useState)(0),t=Object(h.a)(e,2),i=t[0],n=t[1],c=Object(a.useState)(!1),s=Object(h.a)(c,2),r=s[0],o=s[1];return!1===r?Object(b.jsxs)(A,{onSubmit:function(e){e.preventDefault(),o(!0)},children:[Object(b.jsx)(O,{children:"First Come First Served"}),Object(b.jsx)(m.a,{placeholder:"# of processes",style:{marginBottom:10},type:"number",min:"1",onChange:function(e){var t=e.target;return n(t.value)},required:!0}),Object(b.jsx)("br",{}),Object(b.jsx)(j.a,{children:"Start"})]}):Object(b.jsx)(M,{totalProcesses:parseInt(i),processingDone:function(){o(!1)}})};r.a.render(Object(b.jsxs)(o.a,{children:[Object(b.jsx)(l.a,{}),Object(b.jsx)(L,{})]}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.aad3852d.chunk.js.map